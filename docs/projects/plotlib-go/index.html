<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>A Versatile Golang Plotting Library (plotlib-go) Developed - Biao J.&#x27;s Online Portfolio</title>
    <meta name="description" content="Hi, I&#x27;m a senior data scientist, researcher. I exclusively utilize Rust, Go, and Python for their distinct strengths in various tasks. Additionally, I harness the potent capabilities of LaTeX&#x2F;TikZ to produce visually stunning and insightful technical documents.">

    
    <link rel="stylesheet" href="https://plotsignal.com/base.css">
    <link rel="stylesheet" href="https://plotsignal.com/auto.css">

    <link rel="preload" href=https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;font-awesome&#x2F;6.3.0&#x2F;css&#x2F;all.min.css as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href=https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;font-awesome&#x2F;6.3.0&#x2F;css&#x2F;all.min.css></noscript>

    
    <link rel="alternate" type="application/atom+xml" title="RSS" href="https://plotsignal.com/atom.xml">
    

    
    
    <meta property="og:locale" content="en_US">
    
    <meta property="og:title" content="A Versatile Golang Plotting Library (plotlib-go) Developed">
    
    <meta property="og:type" content="article">
    <meta property="article:author" content="https://plotsignal.com/about/">
    <meta property="article:published_time" content="2022-12-27T16:30:00Z">
    
    
    <meta property="article:tag" content="go">
    
    
    
    
    <meta property="og:url" content="https://plotsignal.com/projects/plotlib-go/">
    
    


    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZWHEYLEC5T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZWHEYLEC5T');
</script>

<link rel="stylesheet" href="https://plotsignal.com/bj.css">
<!-- MathJax enabling -->
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
<div class="container">
    
    
    <header>
        <h1 class="site-header">
            <a href="https:&#x2F;&#x2F;plotsignal.com">Biao J.&#x27;s Online Portfolio</a>
        </h1>
        <nav>
            <ul>
            
            
                
                <li><a  href="&#x2F;projects&#x2F;">Projects</a></li>
            
                
                <li><a  href="&#x2F;blog&#x2F;">Blog</a></li>
            
                
                <li><a  href="&#x2F;collabs&#x2F;">Collabs</a></li>
            
                
                <li><a  href="&#x2F;about&#x2F;">About</a></li>
            
            
            </ul>
        </nav>
    </header>
    
    

<article class="post">
    
    
    
        
        <header>
            <h1>A Versatile Golang Plotting Library (plotlib-go) Developed</h1>
        </header>
        
    <div class="article-info">
        
        
        <div class="article-date">December 27, 2022 ◦ 2 min ◦ </div>
        
        <div class="article-taxonomies">
            
                <ul class="article-categories">
                    
                    <li><a href="https://plotsignal.com/categories/data-science/">data-science</a></li>
                    
                </ul>
            
            
                <ul class="article-tags">
                    
                    <li><a href="https://plotsignal.com/tags/go/">#go</a></li>
                    
                </ul>
            
        </div>
    </div>

    
    
    <div class="content">
        <h2 id="motivative">Motivative</h2>
<p><a href="https://go.dev">The Go Programming Language</a> is much faster than Python, and its syntax is modern. I became familiar with Go by implementing the acoustic array beamforming modules. Initially, the results were exported to plot in Python, but it was inconvenient. Therefore, finding a way to directly plot the high-quality figures in Go could improve the development efficiency later.</p>
<h2 id="plot-in-go">Plot in Go</h2>
<p>The plotlib is developed on the top of <a href="https://pkg.go.dev/gonum.org/v1/plot">gonum/plot</a>. The <code>marker</code> defined in other plotting libraries, e.g., matplotlib, is named <code>points</code> in gonum. To implement a function similar to <code>imshow,</code> we need to use <code>heatmap.</code></p>
<h3 id="the-interface-between-the-plotlib-and-the-main-function">The interface between the plotlib and the main function</h3>
<ul>
<li>Line plotting struct</li>
</ul>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// Line structure
</span><span style="color:#b48ead;">type </span><span>Line </span><span style="color:#b48ead;">struct </span><span>{
</span><span>	</span><span style="color:#bf616a;">P         </span><span>*</span><span style="color:#bf616a;">plot</span><span>.</span><span style="color:#b48ead;">Plot
</span><span>	</span><span style="color:#bf616a;">XYs       </span><span>[]</span><span style="color:#bf616a;">plotter</span><span>.</span><span style="color:#b48ead;">XYs </span><span style="color:#65737e;">// XY data
</span><span>	</span><span style="color:#bf616a;">Width     </span><span style="color:#b48ead;">float64
</span><span>	</span><span style="color:#bf616a;">Height    </span><span style="color:#b48ead;">float64
</span><span>	</span><span style="color:#bf616a;">Color     </span><span>[]</span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">Xlabel    </span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">Ylabel    </span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">Title     </span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">Figname   </span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">GridOn    </span><span style="color:#b48ead;">bool
</span><span>	</span><span style="color:#bf616a;">PointsOn  </span><span>[]</span><span style="color:#b48ead;">bool </span><span style="color:#65737e;">// add points/markers
</span><span>	</span><span style="color:#bf616a;">LineWidth </span><span>[]</span><span style="color:#b48ead;">float64
</span><span>	</span><span style="color:#bf616a;">Ticks     </span><span>[]</span><span style="color:#b48ead;">float64
</span><span>	</span><span style="color:#bf616a;">Legend    </span><span>[]</span><span style="color:#b48ead;">string
</span><span>	</span><span style="color:#bf616a;">LegendPos </span><span style="color:#b48ead;">struct</span><span>{ </span><span style="color:#bf616a;">Left</span><span>, </span><span style="color:#bf616a;">Top </span><span style="color:#b48ead;">bool </span><span>} </span><span style="color:#65737e;">// legned position
</span><span>}
</span></code></pre>
<ul>
<li>Plotting</li>
</ul>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">var </span><span style="color:#bf616a;">plt plotlib</span><span>.</span><span style="color:#b48ead;">Plt </span><span>= &amp;</span><span style="color:#bf616a;">line
</span><span style="color:#bf616a;">plt</span><span>.</span><span style="color:#bf616a;">AddDataXY</span><span>(&amp;</span><span style="color:#bf616a;">x_data</span><span>, &amp;</span><span style="color:#bf616a;">y_data</span><span>)
</span><span style="color:#bf616a;">plt</span><span>.</span><span style="color:#bf616a;">Plot</span><span>()
</span></code></pre>
<ul>
<li>Save figure</li>
</ul>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">plt</span><span>.</span><span style="color:#bf616a;">SaveFig</span><span>()
</span></code></pre>
<h3 id="result">Result</h3>
<ol>
<li>Line and point/marker plotting</li>
</ol>
<p>Narrowband beamforming of a 16-element array was simulated, and the resulting beampatterns for two different windowing functions are compared as follows:</p>
<p><img src="https://plotsignal.com/projects/plotlib-go/./narrowbeam_win_cmp.svg" alt="narrowband beamforming" title="narrowband beamforming comparing two windows" /></p>
<ol start="2">
<li>Scatter plotting
<a href="https://plotsignal.com/projects/plotlib-go/!https://en.wikipedia.org/wiki/Iris_flower_data_set">Iris flower data set</a> was used to test the Golang machine learning performance. The data feature distribution was visualized with scatter plotting:</li>
</ol>
<p><img src="https://plotsignal.com/projects/plotlib-go/./iris_scatter_sepal.svg" alt="iris sepal length vs. width" title="iris_scatter_sepal" /></p>

    </div>
    

    
</article>


    <footer>
        <p>
            
<span class="icon-text">
  

  
  <a href="https://twitter.com/biajia" aria-label="Open biajia Twitter" target="_blank">
    <span class="icon is-large">
      <i class="fab fa-twitter fa-lg" aria-hidden="true" title="Twitter"></i>
    </span>
  </a>
  

  
  <a href="https://github.com/biaojiang" aria-label="Open biaojiang GitHub" target="_blank">
    <span class="icon is-large">
      <i class="fab fa-github fa-lg" aria-hidden="true" title="GitHub"></i>
    </span>
  </a>
  

  
  <a href="https://www.linkedin.com/in/biaojiang" aria-label="Open biaojiang LinkedIn" target="_blank">
    <span class="icon is-large">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true" title="LinkedIn"></i>
    </span>
  </a>
  

  

  

  

  
  <a href="mailto:info@plotsignal.com" aria-label="Email info@plotsignal.com" target="_blank">
    <span class="icon is-large">
      <i class="far fa-envelope fa-lg" aria-hidden="true" title="email"></i>
    </span>
  </a>
  

  
  <a href="https:&#x2F;&#x2F;plotsignal.com/atom.xml" aria-label="Open atom xml feed" target="_blank">
    <span class="icon is-large">
      <i class="fas fa-rss fa-lg" aria-hidden="true" title="atom xml feed"></i>
    </span>
  </a>
  

  
</span>

        </p>
        <p>
            
            
        </p>
    </footer>
</div>
</body>
</html>
